{% extends "base.html" %}

{% block title %}–ó–∞–ø–∏—Å–∏ - –ú–æ–¥—É–ª—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ë–î{% endblock %}

{% block content %}
<div class="page-header">
    <h2>üìã –í—Å–µ –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</h2>
    <p class="subtitle">–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: {{ total }}</p>
</div>

<!-- –ü–æ–∏—Å–∫ -->
<form method="GET" action="/search" class="search-form">
    <input type="text" name="q" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—é..." value="{{ search_query or '' }}">
    <button type="submit" class="btn btn-primary">üîç –ù–∞–π—Ç–∏</button>
    {% if search_query %}
    <a href="/" class="btn btn-outline">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ</a>
    {% endif %}
</form>

<!-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞–ø–∏—Å–µ–π -->
{% if records %}
<div class="card">
    <table class="data-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–ó–Ω–∞—á–µ–Ω–∏–µ</th>
                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for record in records %}
            <tr>
                <td>{{ record.id }}</td>
                <td>{{ record.name }}</td>
                <td>{{ "%.2f"|format(record.value) }}</td>
                <td>{{ record.category }}</td>
                <td>{{ record.description or '-' }}</td>
                <td>
                    <a href="/edit/{{ record.id }}" class="btn-sm btn-secondary">‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å</a>
                    <a href="/delete/{{ record.id }}" class="btn-sm btn-danger" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å?')">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="card">
    <p style="text-align: center; color: #666;">–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</p>
</div>
{% endif %}
{% endblock %}